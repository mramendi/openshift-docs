// This module is included in the following assembly:
//
// * cicd/pipelines/using-tekton-results-for-openshift-pipelines-observability.adoc

:_content-type: PROCEDURE
[id="results-cert_{context}"]
= Preparing a secret with an SSL certificate

{tekton-results} provides a REST API using the HTTPS protocol, which requires an SSL certificate. Provide a secret with this certificate. If you have an existing certificate provided by a certificate authority (CA), use this certificate, otherwise create a self-signed certificate.

.Prerequisites

* The `openssl` command-line utility is installed.

.Procedure

. If you do not have a certificate provided by a CA, create a self-signed certificate by entering the following command:
+
[source,terminal]
----
$ openssl req -x509 \
-newkey rsa:4096 \
-keyout key.pem \
-out cert.pem \
-days 365 \
-nodes \
-subj "/CN=tekton-results-api-service.openshift-pipelines.svc.cluster.local" \
-addext "subjectAltName = DNS:tekton-results-api-service.openshift-pipelines.svc.cluster.local"
----
+
Replace `tekton-results-api-service.openshift-pipelines.svc.cluster.local` with the route endpoint that you plan to use for the {tekton-results} API.

. Create a transport security layer (TLS) secret from the certificate by entering the following command:
+
[source,terminal]
----
$ oc create secret tls -n openshift-pipelines tekton-results-tls --cert=cert.pem --key=key.pem
----
+
If you want to use an existing certificate provided by a CA, replace `cert.pem` with the name of the file containing this certificate.
